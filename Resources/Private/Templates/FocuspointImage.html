<f:layout name="Default" />

<f:section name="Main">
    <f:asset.css identifier="tx_bwfocuspointimages_focuspoint" href="EXT:bw_focuspoint_images/Resources/Public/Css/FocuspointImage.css" />

    <f:for each="{images}" as="image" key="key">
        <div class="focuspoint">
            <f:image image="{image}"/>
            <svg viewBox="0 0 {points.{key}.width} {points.{key}.height}" class="focuspoint__svg">
                <f:for each="{points.{key}.areas}" as="area" iteration="i">
                    <a href="{f:uri.typolink(parameter: area.link)}" target="{area.linkTarget}">
                        <f:if condition="{area.title}">
                            <title>{area.title}</title>
                        </f:if>
                        <f:switch expression="{area.__shape}">
                            <f:case value="polygon">
                                <polygon points="{area.path}" fill="black" />
                            </f:case>
                            <f:case value="rect">
                                <rect x="{area.__data.x}" y="{area.__data.y}" width="{area.__data.width}" height="{area.__data.height}" />
                            </f:case>
                        </f:switch>
                    </a>
                </f:for>
            </svg>
        </div>
    </f:for>
</f:section>
